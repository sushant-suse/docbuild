# TOML ENV config file
#

[server]
# Deals with all config about server settings

# name(str): Name of the server, used for logging and cache paths
name = "doc-example-com"
# role(str): Role of the server, used for logging and other purposes. Possible values: "production", "staging", "development"
role = "production"
# host(str): Hostname or IP address to bind the server to.
host = "127.0.0.1"
# port(int): Port number to listen on. Uncomment and set to enable.
port = 80
# enable_mail(bool): Whether to enable email notifications.
# Set to true to enable.
enable_mail = true


[config]
# General configuration

# default_lang(str): Default language for the documentation.
default_lang = "en-us"
# languages(list[str]): A list of all supported languages.
languages = [
    'de-de',
    'en-us',
    'es-es',
    'fr-fr',
    'ja-jp',
    'ko-kr',
    'pt-br',
    'zh-cn',
]
# canonical_url_domain(str): The canonical domain used to construct absolute URLs.
canonical_url_domain = "https://docs.example.com"


[paths]
# Defines several paths
# Paths can hold placeholders in brackets.
# Key naming convention:
#
# * Suffix ``_dir``: contains only directory paths
# * Suffix ``_path``: contains directory and filename paths
# * Suffix ``_dyn``: contains placeholders that are replaced at runtime

# root_config_dir(str): The root directory where all configuration files are stored.
root_config_dir = "/etc/docbuild"
# jinja_dir(str): Path to the directory containing Jinja templates.
jinja_dir = "{root_config_dir}/jinja-doc-suse-com"
# config_dir(str): Path to the directory for additional configuration files.
config_dir = "{root_config_dir}/config.d"
# server_rootfiles_dir(str): Path to the directory containing server root files like robots.txt.
server_rootfiles_dir = "{root_config_dir}/server-root-files-doc-suse-com"
#
# base_cache_dir(str): The base directory for storing cached data.
base_cache_dir = "/var/cache/docserv"
# base_server_cache_dir(str): The server-specific cache directory, derived from base_cache_dir and server name.
base_server_cache_dir = "{base_cache_dir}/{server.name}"
# base_tmp_dir(str): The base directory for temporary files.
base_tmp_dir = "/var/tmp/docbuild"
# repo_dir(str): The directory where permanent full repositories are stored.
repo_dir = "/data/docserv/repos/permanent-full/"
# tmp_repo_dir(str): The directory for storing temporary repositories from branches.
tmp_repo_dir = "/data/docserv/repos/temporary-branches/"
# meta_cache_dir(str): The directory for caching metadata.
meta_cache_dir = "{base_cache_dir}/{server.name}/meta"


[paths.tmp]
# Defines temporary paths
# Paths can hold placeholders in brackets.

# tmp_base_dir(str): The base directory for temporary files, referencing paths.base_tmp_dir.
tmp_base_dir = "{paths.base_tmp_dir}"
# tmp_dir(str): A server-specific temporary directory.
tmp_dir = "{tmp_base_dir}/doc-example-com"
# tmp_metadata_dir(str): A temporary directory for storing metadata during processing.
tmp_metadata_dir = "{tmp_dir}/metadata"
# tmp_deliverable_dir(str): A temporary directory for storing deliverables.
tmp_deliverable_dir = "{paths.tmp.tmp_dir}/deliverable/"
# tmp_build_base_dir(str): The base directory for build outputs.
tmp_build_base_dir = "{tmp_dir}/build"
# tmp_build_dir_dyn(str): A dynamic template for creating build-specific directories.
tmp_build_dir_dyn = "{{product}}-{{docset}}-{{lang}}"

# tmp_out_dir(str): The final temporary output directory before deployment.
tmp_out_dir = "{tmp_dir}/out/"
# log_dir(str): The directory for storing log files.
log_dir = "{tmp_dir}/log/"

# tmp_deliverable_name_dyn(str): A dynamic template for naming temporary deliverables.
tmp_deliverable_name_dyn = "{{product}}_{{docset}}_{{lang}}_XXXXXX"


[paths.target]
# Defines target paths

# target_base_dir(str): The base path for the deployment target, including server and directory.
target_base_dir = "doc@10.100.60.1:/srv/docs"
# target_dir_dyn(str): A dynamic template for the final target directory on the remote server.
target_dir_dyn = "{{product}}"
# backup_dir(str): The directory where backups of external builds are stored.
backup_dir = "/data/docbuild/external-builds/"


[build]
# General build parameters, independent from any specific build system


[build.daps]
# Configuration for daps
# command(str): The base command to execute DAPS with verbose output.
command = "daps -vv"
# meta(str): The DAPS command to extract metadata, with a placeholder for the output file.
meta = "daps -vv metadata --output {{output}}"
# html = "daps -vv --builddir='{paths.tmp.tmp_build_dir}' html"
# pdf = "daps -vv --builddir='{paths.tmp.tmp_build_dir}' pdf"


[build.container]
# Configuration for container

# container(str): The full name of the container image to be used for the build environment.
container = "registry.opensuse.org/documentation/containers/15.6/opensuse-daps-toolchain:latest"


[xslt-params]
# Replaces :file:`/etc/docserv/xslt-params-doc-suse-com.txt` file
# These keys are considered as XSLT parameters and passed
# to the transformation process

# homepage(str): The URL for the main homepage link in the documentation.
homepage = "https://documentation.suse.com/"
# overview-page(str): The URL for the documentation overview page.
overview-page = "https://documentation.suse.com/"
# overview-page-title(str): The title displayed for the overview page link.
overview-page-title = "documentation.suse.com"
# external.js.onlineonly(str): Path to an external JavaScript file that is only included in the online version.
external.js.onlineonly = "/docserv/res/extra.js"
# show.edit.link(int): A flag to control the visibility of the "Edit on GitHub" link (1 for true).
show.edit.link = 1
# twittercards.twitter.account(str): The Twitter username to associate with Twitter Cards.
twittercards.twitter.account = "@SUSE"
# generate.json-ld(int): A flag to enable or disable the generation of JSON-LD structured data (1 for true).
generate.json-ld = 1
# search.description.length(int): The maximum character length for search result descriptions.
search.description.length = 118
# socialmedia.description.length(int): The maximum character length for descriptions used in social media sharing.
socialmedia.description.length = 65
